language: ruby
rvm: 2.2.0
notifications:
  email: false
script: xvfb-run rake test:all
services: mongodb
env:
  global:
  - DISPLAY=:99.0
  - secure: Nh4Vc1EEgs+C7rqTauvCJaehvsI6hQiYtm/ttzIirDjCJt0P0jgm0ZZoqESItz5SQUEUoQ+tAhkCOmShCkAKjg11XXqY024DYdySypY/eDjF7WoNJeVXS1nIsgPNfpoMKh2yk6t//MmZgeuwb7FuVEoJ63qUpyXDnICHOyfo6m8=
  - secure: Sp/QRPI2M1wGNg14DqsN3N4l6OwKLHEMf7V4qsYnhOIlirEpMfJ3OnG0VHoNwK9Yq/hOaL6g802WvwUgAkNQnyXF85gWFo5bsuDxqogwFWp0bb7s1BAjolZ06z79D+LCtZAsMOFpxFXY+fg1goc8F8XxVOvkwo0wsSNiSKN62aI=
  - secure: N58wuHe+HiUI6L31EBjWplRmErAXb9DdmNJo2lefcjAAUDJfvQF5/qO4pyXRoSBThPygkpx0a4UyR3JblLUdCKebnT5/e7PqEpbImDEpKFwPGa2onA1EcEq+tDgcAuAE8TH1SLC2z/lPKJXmLhvTCx5zRNZ9Z5nzsHZdwpnd1gc=
  - secure: ZHSZ1NPZolBpv3zIwPXS5ulVU0T63dbdQpDX1OitI+Xl/8sE7/YiztR5D5wu0oD2z6Xhxyh9W8fWrg0Puo+iJGwum7+2gZkVPU0wuqcZW2qZ3Th4mHr2loqfu/2N47fFeVYAqV9JmOzDopy41a795Jmle1fGWKG8QYbH26ylzec=
  - secure: U4PjogvxKMIJqhA+Q/xz8PW0j2LL0YlgNoZ1UWkU7NEfxzug0k8CtVP3Wc/yjDOYIqA+5bnINSfWhH2IPNL5VW8zhBq3sLVsPI0AXNaMPCaJqB+MbJ3IztB5MYjkn5oph3lbahw7CwLvFn5d8D3XLG+4Ou/ctNGTccR4aRiqe3I=
before_install:
  - sh -c 'if [ -n "$QMAKE" ]; then sudo apt-add-repository -y ppa:ubuntu-sdk-team/ppa && sudo apt-get update && sudo apt-get install libqt5webkit5-dev qtdeclarative5-dev; fi'
install:
  - bundle
  - rake &

